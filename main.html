<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main page</title>
    <!-- Temporarily using flat file layout -->
    <link rel="stylesheet" href="main.css">
    <!-- Add social styles -->
    <link rel="stylesheet" href="social/social.css">

    <!-- jQuery and Chart.js libraries -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Workout Tab -->
    <div id="tab-workout" class="tab active">
        <h1>WORKOUTS</h1>
        <input type="text" placeholder="Search everything here" style="width: 90%; padding: 10px; border-radius: 20px; border: 1px solid #333;">
        <div>
            <a href="workout_page\tutorial.html">
                <img src="workout1.png" style="width: 100%;" />
                <p>Workout Videos</p>
              </a>
              
          </div>
          
          <div>
            <a href="workout_page\log.html">
              <img src="workout3.png" style="width: 100%;" />
              <p>Log your Workouts</p>
            </a>
          </div>
          
    </div>

    <!-- Record Tab -->
    <div id="tab-record" class="tab">
        <h1>WORKOUTS RECORD</h1>

        <!-- Time range selector -->
        <div class="record-controls">
            <label for="record-range-select">Please Select Time Range:</label>
            <select id="record-range-select">
                <option value="week">Last Week</option>
                <option value="month">Last Month</option>
            </select>
        </div>

        <!-- Four metric cards (analysis) -->
        <div class="metrics-cards">
            <div class="card" style="cursor: pointer;" title="How many days in a row you've logged at least one workout">
                <h4>Workout Streak</h4>
                <p id="streak-count">--</p>
            </div>
            <div class="card" style="cursor: pointer;" title="Total calories you've burned in the selected time range">
                <h4>Total Calories Burnt (Cal)</h4>
                <p id="total-calories">--</p>
            </div>
            <div class="card" style="cursor: pointer;" title="Total hours you've exercised in the selected time range">
                <h4>Total Workout Hours (H)</h4>
                <p id="total-hours">--</p>
            </div>
            <div class="card" style="cursor: pointer;" title="Percentage of users whose workout hours you exceed">
                <h4>Your Percentile</h4>
                <p id="percentile">--</p>
            </div>
        </div>

        <!-- Three charts (visualisation) -->
        <div class="charts-container">
            <div class="chart-item">
                <canvas id="line-chart"></canvas>
            </div>
            <div class="chart-item">
                <canvas id="pie-chart"></canvas>
            </div>
            <div class="chart-item">
                <canvas id="radar-chart"></canvas>
            </div>
        </div>

        <!-- Leaderboard Header with Toggle Button -->
        <div class="leaderboard-container collapsed" id="leaderboard-container">
            <div class="leaderboard-header" style="display: flex; justify-content: flex-start; align-items: center;">
                <h2 style="margin:0; padding-right:8px;">Calories Leaderboard</h2>
                <button id="toggle-leaderboard-btn" style="margin: 0 0 0 8px;">Show All Rankings</button>
            </div>
            <br>
            <table id="leaderboard-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>User</th>
                        <th>Calories</th>
                        <th>Hours</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Social Tab (Integrated from social.html) -->
    <div id="tab-social" class="tab">
        <h1>FRIENDS' MOMENTS</h1>
        
        <!-- Post creation form -->
        <div class="card post-card" style="margin-bottom: 30px;">
            <h4 style="margin-bottom: 10px; font-size: 18px; color: #333;">Create a Post</h4>
            
            <textarea id="new-post-content"
                placeholder="What's on your mind?"
                style="width: 100%; height: 80px; padding: 10px;
                       border-radius: 8px; border: 1px solid #ccc;
                       font-size: 15px; resize: vertical;"></textarea>
            
            <div style="margin-top: 12px;">
                <label for="new-post-image" style="font-size: 14px; color: #555;">Upload an image (optional):</label><br>
                <input type="file" id="new-post-image" accept="image/*" style="margin-top: 5px;">
            </div>
            
            <div style="margin-top: 15px;">
                <button class="post-button">Post</button>
            </div>
        </div>
        
        <!-- Posts list container -->
        <div id="post-list">
            <!-- Posts will be dynamically loaded here by social.js -->
        </div>
    </div>

    <!-- Account Tab -->
    <div id="tab-account" class="tab">
        <div style="text-align: center; padding: 20px; background: #000; color: #fff;">
            <img src="/img/user.jpg" style="width: 80px; height: 80px; border-radius: 50%;">
            <h3>Username</h3>
            <p>coins = 66</p>
        </div>
        <ul style="list-style: none; padding: 0;">
            <li style="padding: 10px; border-bottom: 1px solid #ccc;">My Information</li>
            <li style="padding: 10px; border-bottom: 1px solid #ccc;">My Plan</li>
            <li style="padding: 10px; border-bottom: 1px solid #ccc;">My Collection</li>
            <li style="padding: 10px; border-bottom: 1px solid #ccc;">Browsing History</li>
        </ul>
    </div>

    <!-- Bottom Navigation (always visible) -->
    <div class="nav-bar">
        <div class="nav-item" onclick="switchTab('workout')">Workout</div>
        <div class="nav-item" onclick="switchTab('record')">Record</div>
        <div class="nav-item" onclick="switchTab('social')">Social</div>
        <div class="nav-item" onclick="switchTab('account')">Account</div>
    </div>

    <!-- Main JS script -->
    <script src="social/social.js"></script>
    <!-- Add social JS -->
    <script src="main.js"></script>
</body>
</html>